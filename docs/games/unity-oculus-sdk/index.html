<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --accent-color: #00aaff;
        }
    </style>

    
    
    
    
    
    

    
    <title>Unity Oculus SDK</title>
    <meta name="description" content="Imagination Can Change Anything!">
    <meta name="keywords" content='Unity'>

    <meta property="og:url" content="https://NYH-Dolphin.github.io/games/unity-oculus-sdk/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Unity Oculus SDK">
    <meta property="og:description" content="Imagination Can Change Anything!">
    <meta property="og:image" content="/images/avatar.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Unity Oculus SDK">
    <meta name="twitter:description" content="Imagination Can Change Anything!">
    <meta property="twitter:domain" content="https://NYH-Dolphin.github.io/games/unity-oculus-sdk/">
    <meta property="twitter:url" content="https://NYH-Dolphin.github.io/games/unity-oculus-sdk/">
    <meta name="twitter:image" content="/images/avatar.jpg">

    
    <link rel="canonical" href="https://NYH-Dolphin.github.io/games/unity-oculus-sdk/" />

    <link rel="stylesheet" type="text/css" href="https://NYH-Dolphin.github.io/css/normalize.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" type="text/css" href="https://NYH-Dolphin.github.io/css/main.css">
    <link disabled id="dark-theme" rel="stylesheet" href="https://NYH-Dolphin.github.io/css/dark.css">

    <script src="https://NYH-Dolphin.github.io/js/svg-injector.min.js"></script>
    <script src="https://NYH-Dolphin.github.io/js/feather-icons.min.js"></script>
    <script src="https://NYH-Dolphin.github.io/js/main.js"></script>

    
    
    
    
    <script src="https://player.lzti.com/api/player/167601724233" id="myhk" key="167601724233" m="1"></script>



    <!-- Support Letax Equation -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js" integrity="sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p" crossorigin="anonymous"></script>

    <!-- Katex is a math typesetting library for the web which lets you write beautiful equations.-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          // customised options
          // • auto-render specific keys, e.g.:
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
          ],
          // • rendering keys, e.g.:
          throwOnError : false
        });
      });
    </script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>

    <!-- Analysis -->
    <script async defer data-website-id="website-id" src="https://analytics.example.com/script.js"></script>

    <!-- Support Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
  
    
</head>
<body>
        <script type="text/javascript">
            
            setThemeByUserPref();
        </script><header class="header">
    <nav class="header-nav">

        
        <div class="avatar">
            <a href="https://NYH-Dolphin.github.io">
                <img src="https://NYH-Dolphin.github.io/images/avatar.jpg" alt="avatar" />
            </a>
        </div>
        

        <div class="nav-title">
            <a class="nav-brand" href="https://NYH-Dolphin.github.io">Dolphin NIE</a>
        </div>

        <div class="nav-links">
            
            <div class="nav-link">
                <a href="https://NYH-Dolphin.github.io/sharing/"><span data-feather='share-2'></span> Sharing </a>
            </div>
            
            <div class="nav-link">
                <a href="https://NYH-Dolphin.github.io/study/"><span data-feather='book-open'></span> Study </a>
            </div>
            
            <div class="nav-link">
                <a href="https://NYH-Dolphin.github.io/project/"><span data-feather='code'></span> Project </a>
            </div>
            
            <div class="nav-link">
                <a href="https://NYH-Dolphin.github.io/tags/"><span data-feather='tag'></span> Tag </a>
            </div>
            
            <div class="nav-link">
                <a href="https://NYH-Dolphin.github.io/about/"><span data-feather='smile'></span> About </a>
            </div>
            
            <div class="nav-link">
                <a href="https://zweb.zone/"><span data-feather='heart'></span>  </a>
            </div>
            
            <div class="nav-link">
                <a href="https://nyh-dolphin.itch.io/"><span data-feather='gift'></span>  </a>
            </div>
            
            <div class="nav-link">
                <a href="https://github.com/NYH-Dolphin"><span data-feather='github'></span>  </a>
            </div>
            
            <div class="nav-link">
                <a href="https://nyh-dolphin.github.io/"><span data-feather='home'></span>  </a>
            </div>
            

            <span class="nav-icons-divider"></span>
            <div class="nav-link dark-theme-toggle">
                <span id="dark-theme-toggle-screen-reader-target" class="sr-only"></span>
                <a>
                    <span id="theme-toggle-icon" data-feather="moon"></span>
                </a>
            </div>

            <div class="nav-link" id="hamburger-menu-toggle">
                <span id="hamburger-menu-toggle-screen-reader-target" class="sr-only">menu</span>
                <a>
                    <span data-feather="menu"></span>
                </a>
            </div>

            
            <ul class="nav-hamburger-list visibility-hidden">
                
                <li class="nav-item">
                    <a href="https://NYH-Dolphin.github.io/sharing/"><span data-feather='share-2'></span> Sharing </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://NYH-Dolphin.github.io/study/"><span data-feather='book-open'></span> Study </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://NYH-Dolphin.github.io/project/"><span data-feather='code'></span> Project </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://NYH-Dolphin.github.io/tags/"><span data-feather='tag'></span> Tag </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://NYH-Dolphin.github.io/about/"><span data-feather='smile'></span> About </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://zweb.zone/"><span data-feather='heart'></span>  </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://nyh-dolphin.itch.io/"><span data-feather='gift'></span>  </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://github.com/NYH-Dolphin"><span data-feather='github'></span>  </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://nyh-dolphin.github.io/"><span data-feather='home'></span>  </a>
                </li>
                
                <li class="nav-item dark-theme-toggle">
                    <span id="dark-theme-toggle-screen-reader-target" class="sr-only">theme</span>
                    <a>
                        <span id="theme-toggle-icon" data-feather="moon"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>
<main id="content">
    <div class="post container">
    <div class="post-header-section">
        <h1>Unity Oculus SDK</h1>
        <small role="doc-subtitle"></small>
        <p class="post-date">
            July 1, 2022
        </p>

        <ul class="post-tags">
        
            <li class="post-tag"><a href="https://NYH-Dolphin.github.io/tags/unity">Unity</a></li>
        
        </ul>
    </div>

    <div class="post-content">
        <p>
            <h2 id="0-oculus-开发相关资源">0. Oculus 开发相关资源</h2>
<ul>
<li>开发者社区+SDK：https://developer.oculus.com/</li>
</ul>
<h2 id="1-介绍与配置">1. 介绍与配置</h2>
<blockquote>
<p>Unity Asset Store Oculus Integration：https://assetstore.unity.com/packages/tools/integration/oculus-integration-82022</p>
</blockquote>
<p>Oculus 集成包 <code>OculusIntegration.unitypackage</code> 是核心 VR 功能、组件、脚本和插件的多合一源，可简化和增强 Unity 中的 Oculus 应用程序开发过程。它打包了几个重要的 SDK，为您的应用程序提供高级渲染、社交和社区建设、示例框架、音频和头像开发支持。它包括：<a href="https://developer.oculus.com/documentation/unity/unity-utilities-overview/">VR</a>、<a href="https://developer.oculus.com/documentation/unity/unity-audio/">Audio Manager</a>、<a href="https://developer.oculus.com/documentation/unity/as-avatars-sdk-intro/">Avatar</a>、<a href="https://developer.oculus.com/documentation/unity/ps-platform-intro/">Platform</a>、<a href="https://developer.oculus.com/documentation/unity/unity-sample-framework/">Sample framework</a>、<a href="https://developer.oculus.com/documentation/unity/audio-osp-unity/">Spatializer </a>和 <a href="https://developer.oculus.com/documentation/unity/audio-ovrlipsync-unity/">LipSync</a>。</p>
<ul>
<li>搭建环境与配置 <a href="https://developer.oculus.com/documentation/unity/unity-conf-settings/">https://developer.oculus.com/documentation/unity/unity-conf-settings/</a></li>
</ul>
<h2 id="2-摄像机-camera">2. 摄像机 Camera</h2>
<blockquote>
<p><a href="https://developer.oculus.com/documentation/unity/unity-add-camera-rig/">https://developer.oculus.com/documentation/unity/unity-add-camera-rig/</a></p>
</blockquote>
<p>Oculus Integration SDK 包括 <code>OVRCameraRig</code> Prefab，只需要把它添加到你需要的 Scene 里即可</p>
<ol>
<li>在 Scene 中删除预先有的 <code>MainCamera</code></li>
<li>在 Assets/Oculus/VR/Prefab 文件夹中，拖入 <code>OVRCameraRig</code> 到 Scene 中</li>
</ol>
<p>该 Prefab 包括下面几个重要的组件</p>
<h4 id="ovr-camera-rig">OVR Camera Rig</h4>
<p><img src="../../static/images/Unity Oculus SDK.assets/image-20220705232348166.png" alt="image-20220705232348166" style="zoom:67%;" /></p>
<ul>
<li>Use Per Eye Camera：选择此选项可分别为左眼和右眼使用摄像头</li>
<li>Use Fixed Update For Tracking：选择此选项可以在 <code>FixedUpdate()</code> 方法中更新所有被跟踪的锚点，而不是 <code>Update()</code> 方法，以提高物理保真度。</li>
<li>Disable Eye Anchor Cameras：选择此选项以禁用眼睛锚点上的摄像头，在这种情况下，游戏的主摄像机被用来提供VR渲染，跟踪空间锚被更新来提供参考姿态</li>
</ul>
<h4 id="ovrmanager">OVRmanager</h4>
<p><img src="../../static/images/Unity Oculus SDK.assets/image-20220705232653860.png" alt="image-20220705232653860" style="zoom:67%;" /></p>
<ul>
<li>Target Device：你可以通过调用 <code>OVRManager.systemHeadsetType()</code> 来返回当前 app 所在是 Oculus 类型，方法返回 <code>Oculus_Quest</code> 或 <code>Oculus_Quest_2</code></li>
<li>Performance/Quality
<ul>
<li>Use Recommended MSAA Level：默认情况下设置为 True，选择这个选项可以让 OVRManager 根据 Oculus 设备自动选择合适的 MSAA 级别</li>
<li>Monoscopic：如果为真，两只眼睛从中心眼睛姿势看到相同的图像，在低端设备上节省性能，我们不建议使用这个设置，因为它不能在VR中提供正确的体验</li>
<li>Min Render Scale：设置自适应分辨率的最小范围（默认值为0.7）</li>
<li>Max Render Scale (Rift only)：设置自适应分辨率的最大界限（默认值为1.0）</li>
<li>Head Pose Relative Offset Rotation: 设置头部姿势的相对偏移旋转</li>
<li>Head Pose Relative Offset Translation：设置头部姿势的相对偏移平移</li>
<li>Profiler TCP Port：Oculus Profiler Service的TCP监听端口，在调试或开发版本中激活，当应用程序在编辑器或设备上运行时，去Oculus &gt; Tools &gt; Oculus Profiler Panel查看实时系统指标</li>
</ul>
</li>
<li>Tracking
<ul>
<li>Tracking Origin Type：设置初始跟踪类型
<ul>
<li>Eye Level：跟踪相对于设备位置的位置和方向</li>
<li>Floor Level：根据用户在 Oculus 配置实用程序中指定的站立高度，跟踪相对于地面的位置和方向</li>
</ul>
</li>
<li>Use Positional Tracking：启用时，头部跟踪会影响虚拟摄像头的位置</li>
<li>Use IPD in Positional Tracking：启用时，用户眼睛之间的距离会影响 OVRCameraRig 的每个摄像头的位置</li>
<li>Allow Recenter：选择此选项可在用户从通用菜单中单击“Reset View”选项时重置姿势。对于在虚拟世界中处于固定位置的应用程序，您应该选择此选项，并允许重置视图选项将用户放置到预定义的位置(如座舱座位)，如果有移动系统，请不要选择此选项，因为重置视图会有效地将用户传送到可能无效的位置</li>
<li>Late Controller Update：选择此选项可以在渲染之前立即更新控制器的姿态，以降低现实世界和虚拟控制器运动之间的延迟，如果控制器姿态用于模拟/物理，位置可能会稍微落后于用于渲染的位置(~10ms)。任何计算在模拟时间可能不完全匹配控制器的渲染位置</li>
</ul>
</li>
<li>Display
<ul>
<li>重新控制您的应用程序通过在运行时设置特定的颜色空间，以克服由于使用不同的颜色空间可能发生的颜色变化</li>
</ul>
</li>
</ul>
<p><img src="../../static/images/Unity Oculus SDK.assets/image-20220705233631727.png" alt="image-20220705233631727" style="zoom: 67%;" /></p>
<ul>
<li>Quest Features
<ul>
<li>Focus Aware：选择此选项允许用户访问系统 UI，而不需要从应用程序切换上下文</li>
<li>Hand Tracking Support：从列表中，选择应用程序的输入支持类型
<ul>
<li><a href="https://developer.oculus.com/documentation/unity/unity-handtracking/">https://developer.oculus.com/documentation/unity/unity-handtracking/</a></li>
</ul>
</li>
<li>Hand Tracking Frequency：从列表中，选择手的跟踪频率，更高的频率允许更好的手势检测和更低的延迟，但从应用程序的预算中保留了一些性能空间
<ul>
<li><a href="https://developer.oculus.com/documentation/unity/unity-handtracking/#enable-hand-tracking">https://developer.oculus.com/documentation/unity/unity-handtracking/#enable-hand-tracking</a></li>
</ul>
</li>
<li>Requires System Keyboard：选择此选项允许用户与系统键盘交互
<ul>
<li><a href="https://developer.oculus.com/documentation/unity/unity-keyboard-overlay/">https://developer.oculus.com/documentation/unity/unity-keyboard-overlay/</a></li>
</ul>
</li>
<li>System Splash Screen：点击 Select 打开 2D 纹理列表，选择你想设置为启动画面的图像</li>
<li>Allow Optional 3DoF Head Tracking：选择这个选项来支持 3DoF 和 6DoF，并让应用程序在没有头部跟踪的情况下运行</li>
</ul>
</li>
</ul>
<h2 id="3-输入">3. 输入</h2>
<h3 id="控制器-controller">控制器 Controller</h3>
<p><code>OVRInput</code> 为多种控制器类型公开统一的输入 API</p>
<ul>
<li>用于查询控制器的虚拟或原始状态，如按钮、操纵杆、触发器、电容触摸数据等，它支持 Oculus Touch控制器</li>
<li>对于键盘和鼠标控制，我们推荐使用 UnityEngine 的原始 API</li>
</ul>
<blockquote>
<p>注意</p>
<ul>
<li>在需要的 Scene 的任何地方包含 <code>OVRManager</code> 的实例</li>
<li>在任意一个组件的 <code>Update</code> 和 <code>FixedUpdate</code> 方法的开头分别调用一次 <code>OVRInput.Update()</code> 和 <code>OVRInput.FixedUpdate()</code></li>
</ul>
</blockquote>
<h3 id="ovrinput-使用">OVRInput 使用</h3>
<p><code>OVRInput</code> 的主要用途是通过 <code>Get()</code>、<code>GetDown()</code> 和 <code>GetUp()</code> 来访问控制器输入状态</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Get()</code></td>
<td>查询控制器的当前状态</td>
</tr>
<tr>
<td><code>GetDown()</code></td>
<td>查询该帧是否按下了控制器</td>
</tr>
<tr>
<td><code>GetUp()</code></td>
<td>查询该帧是否释放了一个控制器</td>
</tr>
</tbody>
</table>
<h4 id="枚举类">枚举类</h4>
<p><code>Get()</code> 有多种变体，提供对不同控件集的访问，这些控件集通过 <code>OVRInput</code> 定义的枚举公开，如下所示</p>
<table>
<thead>
<tr>
<th>控制器种类(枚举类)</th>
<th align="left">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OVRInput.Button</code></td>
<td align="left">游戏手柄、Oculus Touch 控制器和后退按钮上的传统按钮</td>
</tr>
<tr>
<td><code>OVRInput.Touch</code></td>
<td align="left">Oculus Touch 控制器上的电容敏感控制表面</td>
</tr>
<tr>
<td><code>OVRInput.NearTouch</code></td>
<td align="left">在 Oculus Touch 控制器上发现了近距离敏感的控制表面</td>
</tr>
<tr>
<td><code>OVRInput.Axis1D</code></td>
<td align="left">报告浮点状态的触发器等一维控件</td>
</tr>
<tr>
<td><code>OVRInput.Axis2D</code></td>
<td align="left">包含 thumbstick 的二维控件，报告 Vector2 状态</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意</p>
<p>Oculus Touch 控制器除了传统的手柄按钮外，还具有电容感应式控制表面，它可以检测用户的手指或拇指是否有身体接触(Touch)，以及是否有近距离接触(NearTouch)，这允许检测用户与特定控制面交互的几个不同状态</p>
<ul>
<li>如果用户的食指完全从控件表面移开，该控件的 NearTouch 将报告false</li>
<li>当用户的手指靠近并接近控件时，NearTouch会在用户进行身体接触之前报告为 true</li>
<li>当用户进行物理接触时，该控件的Touch将报告为true</li>
<li>当用户按下索引触发器时，该控件的Button将报告为true</li>
</ul>
<p>这些不同的状态可用于准确地检测用户与控制器的交互，并使各种控制方案成为可能</p>
</blockquote>
<h4 id="使用示例">使用示例</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c#" data-lang="c#"><span style="color:#75715e">// returns true if the primary button (typically “A”) is currently pressed.
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Button.One);

<span style="color:#75715e">// returns true if the primary button (typically “A”) was pressed this frame.
</span><span style="color:#75715e"></span>OVRInput.GetDown(OVRInput.Button.One);

<span style="color:#75715e">// returns true if the “X” button was released this frame.
</span><span style="color:#75715e"></span>OVRInput.GetUp(OVRInput.RawButton.X);

<span style="color:#75715e">// returns a Vector2 of the primary (typically the Left) thumbstick’s current state.
</span><span style="color:#75715e">// (X/Y range of -1.0f to 1.0f)
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Axis2D.PrimaryThumbstick);

<span style="color:#75715e">// returns true if the primary thumbstick is currently pressed (clicked as a button)
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Button.PrimaryThumbstick);

<span style="color:#75715e">// returns true if the primary thumbstick has been moved upwards more than halfway.
</span><span style="color:#75715e">// (Up/Down/Left/Right - Interpret the thumbstick as a D-pad).
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Button.PrimaryThumbstickUp);

<span style="color:#75715e">// returns a float of the secondary (typically the Right) index finger trigger’s current state.
</span><span style="color:#75715e">// (range of 0.0f to 1.0f)
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Axis1D.SecondaryIndexTrigger);

<span style="color:#75715e">// returns a float of the left index finger trigger’s current state.
</span><span style="color:#75715e">// (range of 0.0f to 1.0f)
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.RawAxis1D.LIndexTrigger);

<span style="color:#75715e">// returns true if the left index finger trigger has been pressed more than halfway.
</span><span style="color:#75715e">// (Interpret the trigger as a button).
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.RawButton.LIndexTrigger);

<span style="color:#75715e">// returns true if the secondary gamepad button, typically “B”, is currently touched by the user.
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Touch.Two);
</code></pre></div><ul>
<li>除了指定一个控件外，Get() 还接受一个可选的控制器参数，支持的控制器列表由 OVRInput 定义</li>
<li>如果特定的控制方案只适用于特定的控制器类型，则可以使用指定控制器，如果没有向 Get() 提供控制器参数，则默认使用 Active 控制器，该控制器对应于最近报告用户输入的控制器
<ul>
<li>例如，用户可能使用一对 Oculus Touch 控制器，把它们放下，拿起 Xbox 控制器，在这种情况下，一旦用户输入，Active 控制器就会切换到 Xbox 控制器。当前的 Active 控制器可以通过<code>OVRInput.GetActiveController()</code> 查询，所有连接控制器的位掩码可以通过<code>OVRInput.GetConnectedControllers()</code>查询</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c#" data-lang="c#"><span style="color:#75715e">// returns a float of the Hand Trigger’s current state on the Left Oculus Touch controller.
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Axis1D.PrimaryHandTrigger, OVRInput.Controller.LTouch);

<span style="color:#75715e">// returns a float of the Hand Trigger’s current state on the Right Oculus Touch controller.
</span><span style="color:#75715e"></span>OVRInput.Get(OVRInput.Axis1D.PrimaryHandTrigger, OVRInput.Controller.RTouch);
</code></pre></div><h3 id="touch-追踪">touch 追踪</h3>
<p>若要在游戏画面内显示手部控制器的模型的话，可以搜索 <code>OVRControllerPrefab</code>，将其分别加入 <code>OVRCameraRig</code> 下面的指定位置，展开后启用需要使用的模型，并且在 Inspector 面板中设置 Controller 的类型即可</p>
<p><img src="../../static/images/Unity Oculus SDK.assets/image-20220706160317586.png" alt="image-20220706160317586" style="zoom:67%;" /></p>
<p><code>OVRInput</code> 通过 <code>GetLocalControllerPosition()</code> 和 <code>GetLocalControllerRotation()</code> 提供位置和方向数据，它们分别返回 <code>Vector3</code> 和 <code>Quaternion</code></p>
<p>跟踪系统返回控制器姿势，并与头显同步预测，这些姿势与头戴设备在同一坐标系中报告，相对于最初的中心眼姿势，可以用于渲染 3D 世界中的手或物体</p>
<p>它们也被 <code>OVRManager.display.RecenterPose()</code> 重置，类似于头部和眼睛的姿势</p>
<blockquote>
<p>注意</p>
<ul>
<li>Oculus 手部控制器在 <code>OVRInput</code> 中区分了 Primary 和 Secondary：
<ul>
<li>Primary 总是指左边的控制器</li>
<li>Secondary 总是指右边的控制器</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="touch-输入映射">touch 输入映射</h3>
<p>下面的图表说明了 Oculus Touch 控制器的常见输入映射</p>
<h4 id="虚拟映射两个控制器一起作为结合的控制器游戏控制器">虚拟映射（两个控制器一起作为结合的控制器/游戏控制器）</h4>
<ul>
<li>调用 <code>OVRInput.Controller.Touch</code></li>
</ul>
<p><img src="https://scontent-lax3-2.xx.fbcdn.net/v/t39.2365-6/64515613_622041711631269_1500694343822868480_n.png?_nc_cat=103&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=_OsfBjw9k6MAX8udQwO&_nc_ht=scontent-lax3-2.xx&oh=00_AT-NpiEvalDdFaPWO32VFIuY5px38cuMbDXpXz8Jyh-pjg&oe=62C86D41" alt="img" style="zoom:67%;" /></p>
<h4 id="虚拟映射两个控制器功能完全一样">虚拟映射（两个控制器功能完全一样）</h4>
<ul>
<li>调用 <code>OVRInput.Controller.LTouch</code> 或者是  <code>OVRInput.Controller.RTouch</code></li>
</ul>
<p><img src="https://scontent-lax3-2.xx.fbcdn.net/v/t39.2365-6/64700495_622041714964602_2286289187051143168_n.png?_nc_cat=106&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=GYCv0F8rxOwAX8YjmXj&_nc_ht=scontent-lax3-2.xx&oh=00_AT_bak51T6g1fGAlu_B2cJL3u2oWAVQcwF2KVRz-INuDHg&oe=62C8F0E5" alt="img" style="zoom:50%;" /></p>
<h4 id="原始映射">原始映射</h4>
<p>原始映射直接暴露控制器，控制器的布局与典型的左右分开手柄的布局非常相似</p>
<p><img src="https://scontent-lax3-1.xx.fbcdn.net/v/t39.2365-6/64523870_622041708297936_5486636097175814144_n.png?_nc_cat=102&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=-4tRDTQg45wAX_ueQqM&_nc_ht=scontent-lax3-1.xx&oh=00_AT9IdfrJ1ByxCvY2yIudDzqSIIIEOfYe0PWyCcAgiTvdgw&oe=62CA014A" alt="img" style="zoom:50%;" /></p>
<h3 id="手部追踪">手部追踪</h3>
<p>参考设置方式：<a href="https://developer.oculus.com/documentation/unity/unity-handtracking/">Set Up Hand Tracking | Oculus Developers</a></p>
<h2 id="4-交互">4. 交互</h2>
<h3 id="示例场景">示例场景</h3>
<h4 id="handgrabexamples">HandGrabExamples</h4>
<p>HandGrabExamples 场景展示了手部的抓取</p>
<p><img src="https://scontent-hkg4-2.xx.fbcdn.net/v/t39.2365-6/273047370_977092769887902_5419075921215623969_n.png?_nc_cat=109&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=3dVezgdeyLUAX_OsDlh&_nc_ht=scontent-hkg4-2.xx&oh=00_AT9dViIg-4bIlK8F0sGLX6w_w2rAVcLg8yuPEfgUpjaoFw&oe=62C980D4" alt="Basic grab image" style="zoom:50%;" /></p>
<ul>
<li>Virtual Object 演示了一个简单的捏选择，没有手抓姿势</li>
<li>Key 演示以捏为基础的抓取与单手抓取姿势</li>
<li>Torch 演示了基于卷曲的抓取与单手抓取姿势（旋转对称）</li>
<li>Cup 演示了多重捏和手掌抓取与相关的手抓取姿势互动</li>
<li>所有的手抓姿势展示手指在某些关节的自由抓取</li>
<li>所有物品都允许双手之间转移</li>
<li>这个场景还与控制器一起工作，控制器用手来表示</li>
</ul>
<h4 id="transformerexamples">TransformerExamples</h4>
<p><img src="https://scontent-hkg4-2.xx.fbcdn.net/v/t39.2365-6/273116013_977092746554571_5543637192074529151_n.png?_nc_cat=104&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=PM1HEb7VwRwAX9FdNAu&_nc_ht=scontent-hkg4-2.xx&oh=00_AT-ubAJ7SCUp0vf1Isz2RvNDwrI9KhjtxGJ7n9Ayfc8eOA&oe=62CB4ACC" alt="Complex grab image" style="zoom:50%;" /></p>
<p>TransformerExamples 场景展示了 GrabInteractor 和 HandGrabInteractable（分别用于控制器和手），以及物体上的物理、变形和约束</p>
<ul>
<li>地图展示了平面约束下只能抓取的可翻译对象</li>
<li>这些石头宝石展示了可以用两只手拿起、投掷、变形和缩放的物理物体</li>
<li>盒子展示了一个有约束的单手旋转变换</li>
<li>这个小雕像展示了双手抓取时的隐藏功能</li>
</ul>
<h4 id="rayexamples">RayExamples</h4>
<p><img src="https://scontent-hkg4-2.xx.fbcdn.net/v/t39.2365-6/273125457_977092733221239_8914345502171791522_n.png?_nc_cat=110&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=YqqQl4U3hpwAX8hu-xJ&_nc_ht=scontent-hkg4-2.xx&oh=00_AT-_NFpfa41-EllvEWiSHD0jkmf9IunII10w8iKeG3tcVA&oe=62CB28D8" alt="Basic ray image" style="zoom:50%;" /></p>
<p>RayExamples 场景展示了 RayInteractor 使用 CanvasCylinder 组件与一个弯曲的 Unity Canvas 进行交互</p>
<ul>
<li>与 Unity Canvas 的射线交互</li>
<li>手的交互使用系统指针姿态和缩放来进行选择</li>
<li>射线交互使用控制器姿态来确定射线方向，并触发选择</li>
<li>允许各种材质类型的曲面：Alpha 切割，Alpha 混合和衬底（仅在设备上可见）</li>
</ul>
<h4 id="pokeexamples">PokeExamples</h4>
<p><img src="https://scontent-hkg4-2.xx.fbcdn.net/v/t39.2365-6/275952769_1008007086796470_15710467349600420_n.png?_nc_cat=111&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=zAphW55K2-gAX_WG-I7&_nc_ht=scontent-hkg4-2.xx&oh=00_AT_6QqAynDd1fxj_ibxlu59EcO8nGsjXsam0ori7y6HCPg&oe=62CA5559" alt="Direct touch image" style="zoom:50%;" /></p>
<p>PokeExamples 场景展示了 PokeInteractor 在各种表面上的触控限制</p>
<ul>
<li>用独立按钮或 Unity Canva 交互和按按钮</li>
<li>poke 是由射线投射到基于盒子的接近场检测</li>
<li>演示了多种视觉支持，包括各种按钮深度，以及按钮悬停状态的Hover on Touch和Hover Above变体</li>
<li>触摸限制现在保持手在按钮表面以上</li>
<li>大按钮与多个戳互动（手侧，手掌）</li>
<li>弯曲和扁平的统一画布与触摸有限的滚动和按钮</li>
</ul>
<h4 id="poseexamples">PoseExamples</h4>
<p><img src="https://scontent-hkg4-1.xx.fbcdn.net/v/t39.2365-6/273117286_977092779887901_4924288224043444800_n.png?_nc_cat=102&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=rJu8iaiuBgUAX8Q2v0o&_nc_ht=scontent-hkg4-1.xx&oh=00_AT8B8ZSBg9g5oOldSNExeMNxekXiaDRAQn0-_tF-vhaOVg&oe=62C9FC60" alt="Pose detection image" style="zoom:50%;" /></p>
<p>PoseExamples 场景展示了六种不同的手部姿势，带有姿势识别的视觉信号</p>
<ul>
<li>演示姿势检测几种手姿势:大拇指向上，大拇指向下，石头，布，剪刀，和停止</li>
<li>姿势可以由左手或右手触发</li>
<li>当姿势开始时触发粒子效果（每只手）</li>
<li>当姿势结束时隐藏粒子效果</li>
</ul>
<h4 id="gestureexamples">GestureExamples</h4>
<p>GestureExamples 场景展示了如何使用 Sequence 组件和 ActiveState 逻辑来创建一个简单的滑动手势<img src="https://scontent-hkg4-2.xx.fbcdn.net/v/t39.2365-6/278619243_1030644504532728_2273043170056198593_n.png?_nc_cat=111&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=rK7lqu7hIYAAX-jZpWQ&_nc_ht=scontent-hkg4-2.xx&oh=00_AT-cGiWRdEzxeYNuCReE3jDfD97yk6eHVX6UtO3ljv3Pjw&oe=62CAB4D5" alt="Gestures image" style="zoom:50%;" /></p>
<ul>
<li>演示了滑动手势作为与对象的近交互的用例</li>
<li>手势只有在覆盖物体时才会活跃</li>
<li>石头显示由任意一只手触发的随机颜色变化</li>
<li>相框在旋转木马视图中通过图片循环方向变化取决于哪只手在滑动</li>
</ul>
<h4 id="distancegrabexamples">DistanceGrabExamples</h4>
<p>DistanceGrabExamples 场景展示了发送信号、吸引和抓取距离对象的多种方法</p>
<p><img src="https://scontent-hkg4-2.xx.fbcdn.net/v/t39.2365-6/289931274_1067825480814630_1157129558590603112_n.png?_nc_cat=109&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=PWRvU2cQmCsAX_moJAN&_nc_ht=scontent-hkg4-2.xx&oh=00_AT-lNV3C79Zowde0RxuULr12sj83KXkVQJCQ69g0f7zDAA&oe=62CAEB2E" alt="Distance Grab image" style="zoom: 67%;" /></p>
<ul>
<li>Anchor at hand：锚定物品在手上而不吸引它</li>
<li>Hand to interactable：使用了一个自定义的 IMovementProvider 和一个手对齐，对齐抓取来移动物体，就像手在那里一样</li>
<li>ReticleGhostDrawer：在物体位置显示手的副本</li>
<li>Interactable to hand：显示了一个自定义的 IMovementProvider，其中项目以快速的运动向手移动，然后保持连接到它。十字形网格抽屉表示物体如何被抓取的手吸引</li>
</ul>
<h4 id="touchgrabexamples">TouchGrabExamples</h4>
<p>TouchGrabExamples 场景展示了一个过程式姿势抓取交互</p>
<p><img src="https://scontent-hkg4-2.xx.fbcdn.net/v/t39.2365-6/289978584_1067825504147961_3447768018627681865_n.png?_nc_cat=109&ccb=1-7&_nc_sid=ad8a9d&_nc_ohc=kcS9NhicAfEAX_HO3jN&_nc_ht=scontent-hkg4-2.xx&oh=00_AT8K2IQ771M1Isn8YWmaEPpcWvwwlrEJnsTLfJeg5H6GEQ&oe=62CA213D" alt="TouchGrabExample image" style="zoom:67%;" /></p>
<ul>
<li>Kinematic 演示了与非物理对象的交互作用</li>
<li>Physical 演示了非运动物体与重力的相互作用，以及物理碰撞中抓取和非抓取之间的相互作用</li>
<li>Controller 可以作为手部姿势，具有相同的交互作用和程序姿势</li>
</ul>
<h3 id="输入数据">输入数据</h3>
<p><code>InputOVR</code> Prefab 为手、控制器或 Hmd 组件附加源提供了基础，这些源数据来自 InteractionOVRCameraRig</p>
<p>你也可以找到手、控制器，Hmd，ControllerAsHand Prefab，这些 Prefab 可以与 InputOVR 相连</p>
<p>预制实例应该放在你的场景的根位置，或者它不会被上级链转换的位置</p>
<h3 id="可抓取物体">可抓取物体</h3>
<h4 id="hand-pose-rocoder">Hand Pose Rocoder</h4>
<p>带有 HandPose 的 HandGrabPoints 可以在编辑时手动创建，也可以在运行时使用手动跟踪（推荐）</p>
<p>在运行时候使用它们需要用到 Hand Pose Rocoder，在目录 Oculus/Interaction/Hand Grab Pose Rocorder</p>
<p><img src="../../static/images/Unity Oculus SDK.assets/image-20220706203445366.png" alt="image-20220706203445366" style="zoom:67%;" /></p>
<ul>
<li>Hand：HandGrabInteractor 将被用于记录，分配左手或右手取决于哪只手将被用于记录
<ul>
<li>在编辑模式下分配这个值，然后进入播放模式可能会失去这个引用</li>
</ul>
</li>
<li>RigidBody：你需要记录抓取姿势的 GameObject
<ul>
<li>它应该有一个 <code>RigidBody</code></li>
</ul>
</li>
<li>Ghost Provider：指定一个 Ghost Provider 来立即可视化生成的姿势
<ul>
<li>按下右边的圆圈应该可以选择默认值</li>
</ul>
</li>
<li>Hand Grab Interactable Data Collection：分配一个资产来存储或加载姿势，这样它们就可以在播放/编辑模式切换中存活下来
<ul>
<li>如果没有提供资产，在存储时会自动生成一个新的资产</li>
</ul>
</li>
</ul>

        </p>
    </div>

    <div class="prev-next">
        
            
                
<div class="prev-post">
    <p>
        <a href="/games/unity-mirror/">
            &#8592;
            Previous:
            Unity Mirror
        </a>
    </p>
    <p class="prev-post-date">
        May 13, 2022
    </p>
</div>



<div class="next-post">
    <p>
        <a href="/games/test/">
            Next:
            Test
            &#8594;
        </a>
    </p>
        <p class="next-post-date">
            August 1, 2022
        </p>
</div>


            
        
    </div>
</div>

<aside class="post-toc">
    <nav id="toc">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#0-oculus-开发相关资源">0. Oculus 开发相关资源</a></li>
        <li><a href="#1-介绍与配置">1. 介绍与配置</a></li>
        <li><a href="#2-摄像机-camera">2. 摄像机 Camera</a>
          <ul>
            <li>
              <ul>
                <li><a href="#ovr-camera-rig">OVR Camera Rig</a></li>
                <li><a href="#ovrmanager">OVRmanager</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#3-输入">3. 输入</a>
          <ul>
            <li><a href="#控制器-controller">控制器 Controller</a></li>
            <li><a href="#ovrinput-使用">OVRInput 使用</a>
              <ul>
                <li><a href="#枚举类">枚举类</a></li>
                <li><a href="#使用示例">使用示例</a></li>
              </ul>
            </li>
            <li><a href="#touch-追踪">touch 追踪</a></li>
            <li><a href="#touch-输入映射">touch 输入映射</a>
              <ul>
                <li><a href="#虚拟映射两个控制器一起作为结合的控制器游戏控制器">虚拟映射（两个控制器一起作为结合的控制器/游戏控制器）</a></li>
                <li><a href="#虚拟映射两个控制器功能完全一样">虚拟映射（两个控制器功能完全一样）</a></li>
                <li><a href="#原始映射">原始映射</a></li>
              </ul>
            </li>
            <li><a href="#手部追踪">手部追踪</a></li>
          </ul>
        </li>
        <li><a href="#4-交互">4. 交互</a>
          <ul>
            <li><a href="#示例场景">示例场景</a>
              <ul>
                <li><a href="#handgrabexamples">HandGrabExamples</a></li>
                <li><a href="#transformerexamples">TransformerExamples</a></li>
                <li><a href="#rayexamples">RayExamples</a></li>
                <li><a href="#pokeexamples">PokeExamples</a></li>
                <li><a href="#poseexamples">PoseExamples</a></li>
                <li><a href="#gestureexamples">GestureExamples</a></li>
                <li><a href="#distancegrabexamples">DistanceGrabExamples</a></li>
                <li><a href="#touchgrabexamples">TouchGrabExamples</a></li>
              </ul>
            </li>
            <li><a href="#输入数据">输入数据</a></li>
            <li><a href="#可抓取物体">可抓取物体</a>
              <ul>
                <li><a href="#hand-pose-rocoder">Hand Pose Rocoder</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </nav>
</aside>



    

        </main><footer class="footer">
    <span>.............................................................................................................</span>
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span>&copy; 2023 NYH-Dolphin | Total Visitors: <a id="busuanzi_value_site_pv">...</a></span>
    <span>Made with &#10084;&#65039; using <a target="_blank" href="https://github.com/526avijitgupta/gokarna">Gokarna</a></span>

    <script src="https://player.lzti.com/player/js/jquery.min.js" type="text/javascript"></script>
    <script src="https://player.lzti.com/api/player/167601724233" id="myhk" key="167601724233" m="1"></script>
</footer></body>
</html>
